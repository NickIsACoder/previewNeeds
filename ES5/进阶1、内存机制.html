<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
	</head>
	<body>
        <script type="text/javascript">
            /* 
                栈数据结构、堆数据结构、与队列
                
                栈：栈的数据存储特点为先进后出、后进先出的。位于顶层的会先被使用，执行上下文使用
                
                堆：和书与书架的结构类似，按书名来取书，结构中的数据可无序排列，与json数据类似
                
                队列： 是先进先出的数据结构 在事件循环机制中使用
            */
           
           /* 
                执行上下文创建的变量对象是存放在堆内存中
                基础数据类型：undefined、null、string、number、boolean（保存在栈中）
                    可以直接操作其实际的值，所以基础数据类型都是按值访问的
                引用数据类型：Array、Object、function（保存在堆中）
                    引用类型的值是保存在堆内存中的对象，javascript不允许访问堆内存中的位置，所以，操作对象时，实际上操作的是对象的引用而不是实际的对象，所以引用类型的值都是按引用访问的
           */
          
          var a1 = 0;   // 变量对象
          var a2 = 'this is string'; // 变量对象
          var a3 = null; // 变量对象
          
          var b = { m: 20 }; // 变量b存在于变量对象中，{m: 20} 作为对象存在于堆内存中
          var c = [1, 2, 3]; // 变量c存在于变量对象中，[1, 2, 3] 作为对象存在于堆内存中
          
          
          // 题1
          var a = 20;
          var b = a;
          b = 30;
          // 这时a的值是多少？ 20
 
          // 题2
          var m = { a: 10, b: 20 }
          var n = m;
          n.a = 15;
          // 这时m.a的值是多少  15
          
          // 解析: 当变量对象中的数据发生复制行为时,系统会自动为新的变量分配一个新的值,
          //        var b = a执行之后,虽然a与b都是20 ,但两个值是分开的,相互不影响
          // m为引用类型的值,引用类型的复制同样会为新的变量自动分配新的值保存在变量对象中,
            // 但这个新的值只是引用类型的一个地址指针,当var n = m;时,n的指针和m的指针是相同的
            // 指向堆内存中的同一个对象,所以改变n时,m也发生改变
            
            
            /* 
                垃圾回收机制
                
                原理：是找出那些不再继续使用的值，然后释放其占用的内存。垃圾收集器会每隔固定的时间段就执行一次释放操作。
                
                在局部作用域中，当函数执行完毕，局部变量也就没有存在的必要了，因此垃圾收集器很容易做出判断并回收。
                但是全局变量什么时候需要自动释放内存空间则很难判断，因此在我们的开发中，需要尽量避免使用全局变量
            */
           
            var a = 20;  // 在内存中给数值变量分配空间
            alert(a + 100);  // 使用内存
            a = null; // 使用完毕之后，释放内存空间
        </script>
	</body>
</html>
